{"ast":null,"code":"var _jsxFileName = \"/Users/syedmuzzammilhassanabedi/Desktop/ever-note-main/src/sidebar/sidebar.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport styles from \"./styles\";\nimport List from \"@material-ui/core/List\";\nimport { Divider, Button } from \"@material-ui/core\";\nimport SidebarItem from \"../sidebaritem/sidebarItem\";\nimport useFirestore from \"../hooks/useFirestore\";\nimport firebase, { projectAuth, projectFirestore } from \"../firebase/config\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Sidebar = ({\n  classes,\n  note,\n  setNote\n}) => {\n  _s();\n\n  const [newNote, setNewNote] = useState({\n    addingNote: false,\n    title: \"\"\n  });\n  const {\n    allNotes\n  } = useFirestore('notes');\n  const {\n    addingNote,\n    title\n  } = newNote;\n  useEffect(() => {\n    setNote({ ...note,\n      selectedNote: allNotes[note.selectedNoteIndex]\n    });\n  }, [allNotes, note.selectedNote]);\n\n  const createNewNote = () => {\n    setNewNote({ ...newNote,\n      addingNote: !addingNote\n    });\n  };\n\n  const addNewNote = e => {\n    e.preventDefault();\n\n    if (newNote.title === \"\") {\n      alert(\"Title can't be empty!!\");\n    } else {\n      projectFirestore.collection('notes').add({\n        title: title,\n        body: \"\",\n        createdAt: firebase.firestore.FieldValue.serverTimestamp()\n      });\n      setNewNote({\n        title: null,\n        addingNote: false\n      });\n      setNote({ ...note,\n        selectedNoteIndex: 0,\n        selectedNote: null\n      });\n    }\n  };\n\n  const updateTitle = e => {\n    const text = e.target.value;\n    setNewNote({ ...newNote,\n      title: text\n    });\n  };\n\n  const selectNote = (note, index) => {\n    setNote({ ...note,\n      selectedNote: note,\n      selectedNoteIndex: index\n    });\n  };\n\n  const deleteNote = (notee, index) => {\n    projectFirestore.collection('notes').doc(notee.id).delete();\n\n    if (note.selectedNoteIndex === index) {\n      setNote({ ...note,\n        selectedNoteIndex: null,\n        selectedNote: null\n      });\n    } else if (index > note.selectedNoteIndex) {\n      setNote({ ...note,\n        selectedNoteIndex: note.selectedNoteIndex,\n        selectedNote: allNotes[note.selectedNoteIndex]\n      });\n    } else {\n      note.selectedNoteIndex === 0 ? setNote({ ...note,\n        selectedNoteIndex: note.selectedNoteIndex,\n        selectedNote: allNotes[note.selectedNoteIndex]\n      }) : allNotes.length > 1 ? setNote({ ...note,\n        selectedNoteIndex: note.selectedNoteIndex - 1,\n        selectedNote: allNotes[note.selectedNoteIndex - 1]\n      }) : setNote({ ...note,\n        selectedNoteIndex: null,\n        selectedNote: null\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"sidebar\",\n    className: classes.sidebarContainer,\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      className: classes.newNoteBtn,\n      onClick: createNewNote,\n      children: addingNote ? \"Cancel\" : \"New Note\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), addingNote && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: addNewNote,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: classes.newNoteInput,\n          type: \"text\",\n          placeholder: \"Enter title\",\n          value: title,\n          onChange: updateTitle,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          className: classes.newNoteSubmitBtn,\n          children: \"Add Note\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(List, {\n      children: allNotes && allNotes.map((_note, _index) => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(SidebarItem, {\n            _note: _note,\n            _index: _index,\n            selectNote: selectNote,\n            selectedNoteIndex: note.selectedNoteIndex,\n            deleteNote: deleteNote\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 17\n          }, this)]\n        }, _index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Sidebar, \"ecOBYD+DG4YVM3GUWM+PZDcmuz4=\", false, function () {\n  return [useFirestore];\n});\n\n_c = Sidebar;\nexport default withStyles(styles)(Sidebar);\n\nvar _c;\n\n$RefreshReg$(_c, \"Sidebar\");","map":{"version":3,"sources":["/Users/syedmuzzammilhassanabedi/Desktop/ever-note-main/src/sidebar/sidebar.js"],"names":["React","useEffect","useState","withStyles","styles","List","Divider","Button","SidebarItem","useFirestore","firebase","projectAuth","projectFirestore","Sidebar","classes","note","setNote","newNote","setNewNote","addingNote","title","allNotes","selectedNote","selectedNoteIndex","createNewNote","addNewNote","e","preventDefault","alert","collection","add","body","createdAt","firestore","FieldValue","serverTimestamp","updateTitle","text","target","value","selectNote","index","deleteNote","notee","doc","id","delete","length","sidebarContainer","newNoteBtn","newNoteInput","newNoteSubmitBtn","map","_note","_index"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport styles from \"./styles\";\nimport List from \"@material-ui/core/List\";\nimport { Divider, Button } from \"@material-ui/core\";\nimport SidebarItem from \"../sidebaritem/sidebarItem\";\nimport useFirestore from \"../hooks/useFirestore\";\nimport firebase, { projectAuth, projectFirestore } from \"../firebase/config\";\n\nconst Sidebar = ({ classes, note, setNote }) => {\n  const [newNote, setNewNote] = useState({\n    addingNote: false,\n    title: \"\",\n  });\n\n  const { allNotes } = useFirestore('notes');\n\n  const { addingNote, title } = newNote;\n\n  useEffect(() => {\n    setNote({ ...note, selectedNote: allNotes[note.selectedNoteIndex] });\n  }, [allNotes, note.selectedNote]);\n\n  const createNewNote = () => {\n    setNewNote({ ...newNote, addingNote: !addingNote });\n  };\n  const addNewNote = (e) => {\n    e.preventDefault();\n    if (newNote.title === \"\") {\n      alert(\"Title can't be empty!!\");\n    } else {\n      projectFirestore\n        .collection('notes')\n        .add({\n          title: title,\n          body: \"\",\n          createdAt: firebase.firestore.FieldValue.serverTimestamp(),\n        });\n      setNewNote({ title: null, addingNote: false });\n      setNote({\n        ...note,\n        selectedNoteIndex: 0,\n        selectedNote: null,\n      });\n    }\n  };\n  const updateTitle = (e) => {\n    const text = e.target.value;\n    setNewNote({ ...newNote, title: text });\n  };\n\n  const selectNote = (note, index) => {\n    setNote({ ...note, selectedNote: note, selectedNoteIndex: index });\n  };\n\n  const deleteNote = (notee, index) => {\n    projectFirestore\n      .collection('notes')\n      .doc(notee.id)\n      .delete();\n    if (note.selectedNoteIndex === index) {\n      setNote({ ...note, selectedNoteIndex: null, selectedNote: null });\n    } else if (index > note.selectedNoteIndex) {\n      setNote({\n        ...note,\n        selectedNoteIndex: note.selectedNoteIndex,\n        selectedNote: allNotes[note.selectedNoteIndex],\n      });\n    } else {\n      note.selectedNoteIndex === 0\n        ? setNote({\n            ...note,\n            selectedNoteIndex: note.selectedNoteIndex,\n            selectedNote: allNotes[note.selectedNoteIndex],\n          })\n        : allNotes.length > 1\n        ? setNote({\n            ...note,\n            selectedNoteIndex: note.selectedNoteIndex - 1,\n            selectedNote: allNotes[note.selectedNoteIndex - 1],\n          })\n        : setNote({ ...note, selectedNoteIndex: null, selectedNote: null });\n    }\n  };\n\n  return (\n    <div id=\"sidebar\" className={classes.sidebarContainer}>\n      <Button className={classes.newNoteBtn} onClick={createNewNote}>\n        {addingNote ? \"Cancel\" : \"New Note\"}\n      </Button>\n      {addingNote && (\n        <div>\n          <form onSubmit={addNewNote}>\n            <input\n              className={classes.newNoteInput}\n              type=\"text\"\n              placeholder=\"Enter title\"\n              value={title}\n              onChange={updateTitle}\n              required\n            />\n            <Button type=\"submit\" className={classes.newNoteSubmitBtn}>\n              Add Note\n            </Button>\n          </form>\n        </div>\n      )}\n      <List>\n        {allNotes &&\n          allNotes.map((_note, _index) => {\n            return (\n              <div key={_index}>\n                <SidebarItem\n                  _note={_note}\n                  _index={_index}\n                  selectNote={selectNote}\n                  selectedNoteIndex={note.selectedNoteIndex}\n                  deleteNote={deleteNote}\n                />\n                <Divider />\n              </div>\n            );\n          })}\n      </List>\n    </div>\n  );\n};\n\nexport default withStyles(styles)(Sidebar);\n"]},"metadata":{},"sourceType":"module"}